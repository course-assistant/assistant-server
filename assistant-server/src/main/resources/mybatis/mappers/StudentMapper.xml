<?xml version="1.0" encoding="UTF8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--suppress SqlNoDataSourceInspection, SqlDialectInspection -->
<mapper namespace="cn.hncj.assistant.mapper.StudentMapper">
    <!-- 验证学生账号和密码 -->
    <select id="verifyStudent" resultType="int">
        select count(*) from student
        where student_id = #{student_id} and student_password = #{student_password};
    </select>


    <!-- 查询所有学生 -->
    <select id="selectStudents" resultType="student">
        select student_id,administrator_id,student_name,student_sex,student_avatar,student_phone,student_email,student_status
        from student
        limit #{start}, #{size};
    </select>


    <!-- 修改学生 -->
    <update id="updateStudent">
        update student
        <set>
            <if test="student_password != null">student_password=#{student_password},</if>
            <if test="student_avatar != null">student_avatar=#{student_avatar},</if>
            <if test="student_phone != null">student_phone=#{student_phone},</if>
            <if test="student_email != null">student_email=#{student_email},</if>
            <if test="student_status != null">student_status=#{student_status}</if>
        </set>
        where student_id=#{student_id}
    </update>

</mapper>